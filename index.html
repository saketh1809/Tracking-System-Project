<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TrackShip India - Advanced Logistics Solutions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="api-client.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
        
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        :root {
            --primary: #3385ff;  /* Saffron - from Indian flag */
            --secondary: #138808; /* Green - from Indian flag */
            --accent: #000080;    /* Navy blue - from Indian flag */
            --dark: #2d3748;
            --light: #f7fafc;
            --success: #38a169;
            --warning: #d69e2e;
            --danger: #e53e3e;
        }
        
        body {
            background-color: var(--light);
        }
        
        .gradient-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }
        
        .gradient-accent {
            background: linear-gradient(135deg, var(--accent) 0%, #4169E1 100%);
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .hover-lift {
            transition: all 0.3s ease;
        }
        
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        .tracking-line {
            background: linear-gradient(to right, #e2e8f0 0%, #e2e8f0 50%, #cbd5e0 50%, #cbd5e0 100%);
            background-size: 200% 100%;
            animation: moveLine 2s linear infinite;
        }
        
        @keyframes moveLine {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        .pulse-dot {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(255, 153, 51, 0.7);
            }
            70% {
                transform: scale(1);
                box-shadow: 0 0 0 10px rgba(255, 153, 51, 0);
            }
            100% {
                transform: scale(0.95);
                box-shadow: 0 0 0 0 rgba(255, 153, 51, 0);
            }
        }
        
        .chat-message {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        .dark-mode {
            background-color: #1a202c;
            color: #e2e8f0;
        }
        
        .dark-mode .bg-white {
            background-color: #2d3748;
        }
        
        .dark-mode .text-gray-800 {
            color: #e2e8f0;
        }
        
        .dark-mode .text-gray-600 {
            color: #cbd5e0;
        }
        
        .notification {
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        #map {
            height: 400px;
            border-radius: 0.5rem;
        }
        
        .indian-pattern {
        background-image: url("hand-holding-smartphone-futuristic-abstract-illuminate-line-dot-wireless-connection-wave-with-triangle-bright-blue-background-mobile-banking-shopping-online-concept-technology-future.jpg");
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.5);
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 12px;
            width: 90%;
            max-width: 450px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            animation: modalSlideIn 0.3s ease-out;
        }
        
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-body {
            padding: 20px;
        }
        
        .tab-button {
            padding: 10px 20px;
            border: none;
            background: none;
            cursor: pointer;
            font-weight: 500;
            color: #6b7280;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .tab-button.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .form-input {
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 153, 51, 0.2);
        }
        
        .form-input.error {
            border-color: var(--danger);
        }
        
        .error-message {
            color: var(--danger);
            font-size: 0.875rem;
            margin-top: 0.25rem;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .user-dropdown {
            position: relative;
        }
        
        .user-menu {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            margin-top: 0.5rem;
            background-color: white;
            min-width: 200px;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            z-index: 1000;
        }
        
        .user-menu.show {
            display: block;
        }
    </style>
</head>
<body class="transition-colors duration-300 indian-pattern">
    <!-- Header -->
    <header class="bg-white shadow-lg sticky top-0 z-40 transition-colors duration-300">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <div class="relative">
                        <i class="fas fa-shipping-fast text-3xl text-orange-600"></i>
                        <span class="absolute -top-1 -right-1 w-3 h-3 bg-green-600 rounded-full border-2 border-white"></span>
                    </div>
                    <div>
                        <span class="text-2xl font-bold text-gray-800">TrackShip</span>
                        <span class="text-lg font-bold text-green-600">India</span>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-gray-600 hover:text-orange-600 transition font-medium">Home</a>
                    <a href="track.html" class="text-gray-600 hover:text-orange-600 transition font-medium">Track</a>
                    <a href="services.html" class="text-gray-600 hover:text-orange-600 transition font-medium">Services</a>
                    <a href="about.html" class="text-gray-600 hover:text-orange-600 transition font-medium">About</a>
                    <a href="contact.html" class="text-gray-600 hover:text-orange-600 transition font-medium">Contact</a>
                    <button onclick="toggleDarkMode()" class="text-gray-600 hover:text-orange-600 transition">
                        <i class="fas fa-moon"></i>
                    </button>
                    
                    <!-- User Account Section -->
                    <div id="userAccountSection">
                        <!-- This will be populated by JavaScript -->
                    </div>
                </div>
                <button class="md:hidden text-gray-600" onclick="toggleMobileMenu()">
                    <i class="fas fa-bars text-2xl"></i>
                </button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="gradient-primary text-white py-20 relative overflow-hidden">
        <div class="absolute inset-0 bg-black opacity-20"></div>
        <div class="container mx-auto px-6 relative z-10">
            <div class="text-center max-w-4xl mx-auto">
                <h1 class="text-5xl md:text-6xl font-bold mb-6 animate-fade-in">
                    India's Premier Logistics Network
                </h1>
                <p class="text-xl md:text-2xl mb-8 opacity-90">
                    Connecting every corner of Bharat with advanced tracking and reliable delivery
                </p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
                    <a href="track.html" class="bg-white text-orange-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition hover-scale text-lg">
                        Track Your Shipment
                    </a>
                    <button onclick="toggleChat()" class="glass-effect text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:bg-opacity-20 transition text-lg">
                        <i class="fas fa-comments mr-2"></i>AI Assistant
                    </button>
                </div>
            </div>
        </div>
        <div class="absolute bottom-0 left-0 right-0">
            <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 120L60 110C120 100 240 80 360 70C480 60 600 60 720 65C840 70 960 80 1080 85C1200 90 1320 90 1380 90L1440 90V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="#F7FAFC"/>
            </svg>
        </div>
    </section>

    <!-- Quick Track Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <div class="max-w-4xl mx-auto">
                <div class="bg-gradient-to-r from-orange-50 to-green-50 rounded-2xl p-8 shadow-xl">
                    <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">Quick Track Your Shipment</h2>
                    <div class="flex flex-col md:flex-row gap-4">
                        <input 
                            type="text" 
                            id="quickTrackInput" 
                            placeholder="Enter tracking number (e.g., IND123456789)"
                            class="flex-1 px-6 py-4 rounded-lg border-2 border-gray-300 focus:outline-none focus:border-orange-500 text-lg"
                        >
                        <button 
                            onclick="quickTrack()" 
                            class="bg-orange-600 text-white px-8 py-4 rounded-lg hover:bg-orange-700 transition hover-scale font-semibold text-lg"
                        >
                            <i class="fas fa-search mr-2"></i>Track Now
                        </button>
                    </div>
                    <div class="mt-6 flex flex-wrap gap-2 justify-center">
                        <span class="text-sm text-gray-600">Try these:</span>
                        <button onclick="setTrackingNumber('IND123456789')" class="text-sm text-orange-600 hover:underline">IND123456789</button>
                        <button onclick="setTrackingNumber('IND987654321')" class="text-sm text-orange-600 hover:underline">IND987654321</button>
                        <button onclick="setTrackingNumber('IND456789123')" class="text-sm text-orange-600 hover:underline">IND456789123</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-16 bg-gray-50">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">Why Choose TrackShip India?</h2>
                <p class="text-xl text-gray-600">Experience logistics excellence tailored for the Indian market</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="bg-white rounded-xl p-8 shadow-lg hover-lift">
                    <div class="w-16 h-16 bg-orange-100 rounded-lg flex items-center justify-center mb-6">
                        <i class="fas fa-map-marked-alt text-3xl text-orange-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Pan-India Network</h3>
                    <p class="text-gray-600">Covering 28 states and 8 union territories with 500+ service centers</p>
                </div>
                
                <div class="bg-white rounded-xl p-8 shadow-lg hover-lift">
                    <div class="w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center mb-6">
                        <i class="fas fa-tachometer-alt text-3xl text-green-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">Same-Day Delivery</h3>
                    <p class="text-gray-600">Express delivery in major cities within hours, not days</p>
                </div>
                
                <div class="bg-white rounded-xl p-8 shadow-lg hover-lift">
                    <div class="w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center mb-6">
                        <i class="fas fa-mobile-alt text-3xl text-blue-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">UPI & Digital Payments</h3>
                    <p class="text-gray-600">Seamless integration with all Indian digital payment methods</p>
                </div>
                
                <div class="bg-white rounded-xl p-8 shadow-lg hover-lift">
                    <div class="w-16 h-16 bg-purple-100 rounded-lg flex items-center justify-center mb-6">
                        <i class="fas fa-headset text-3xl text-purple-600"></i>
                    </div>
                    <h3 class="text-xl font-semibold mb-3">24/7 Support</h3>
                    <p class="text-gray-600">Multi-lingual customer support in English, Hindi, and regional languages</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Live Map Section -->
    <section class="py-16 bg-white">
        <div class="container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-4xl font-bold text-gray-800 mb-4">Our Network Across India</h2>
                <p class="text-xl text-gray-600">Real-time shipment locations across our nationwide network</p>
            </div>
            
            <div class="bg-gray-100 rounded-xl p-4 shadow-xl">
                <div id="map"></div>
            </div>
            
            <div class="mt-8 grid md:grid-cols-4 gap-6">
                <div class="text-center">
                    <div class="text-3xl font-bold text-orange-600 mb-2">5,847</div>
                    <p class="text-gray-600">Active Shipments</p>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-green-600 mb-2">500+</div>
                    <p class="text-gray-600">Service Centers</p>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-blue-600 mb-2">99.5%</div>
                    <p class="text-gray-600">On-Time Delivery</p>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-purple-600 mb-2">28</div>
                    <p class="text-gray-600">States & UTs</p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="gradient-primary text-white py-20">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-4xl font-bold mb-6">Transform Your Logistics Today</h2>
            <p class="text-xl mb-8 opacity-90">Join thousands of Indian businesses growing with TrackShip</p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <button onclick="openAuthModal()" class="bg-white text-orange-600 px-8 py-4 rounded-lg font-semibold hover:bg-gray-100 transition text-lg">
                    Get Started
                </button>
                <a href="services.html" class="glass-effect text-white px-8 py-4 rounded-lg font-semibold hover:bg-white hover:bg-opacity-20 transition text-lg">
                    View Services
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-6">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <div class="flex items-center space-x-2 mb-4">
                        <i class="fas fa-shipping-fast text-2xl"></i>
                        <span class="text-xl font-bold">TrackShip India</span>
                    </div>
                    <p class="text-gray-400">India's trusted logistics partner for fast and reliable delivery services.</p>
                    <div class="flex space-x-4 mt-4">
                        <a href="#" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-facebook-f text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-twitter text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-linkedin-in text-xl"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white transition">
                            <i class="fab fa-instagram text-xl"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="index.html" class="hover:text-white transition">Home</a></li>
                        <li><a href="track.html" class="hover:text-white transition">Track Shipment</a></li>
                        <li><a href="services.html" class="hover:text-white transition">Services</a></li>
                        <li><a href="about.html" class="hover:text-white transition">About Us</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4">Support</h4>
                    <ul class="space-y-2 text-gray-400">
                        <li><a href="#" class="hover:text-white transition">Help Center</a></li>
                        <li><a href="#" class="hover:text-white transition">API Documentation</a></li>
                        <li><a href="#" class="hover:text-white transition">Terms of Service</a></li>
                        <li><a href="#" class="hover:text-white transition">Privacy Policy</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="font-semibold mb-4">Contact</h4>
                    <div class="space-y-2 text-gray-400">
                        <p><i class="fas fa-envelope mr-2"></i>support@trackship.in</p>
                        <p><i class="fas fa-phone mr-2"></i>1800-123-4567</p>
                        <p><i class="fas fa-map-marker-alt mr-2"></i>Mumbai, Maharashtra, India</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
                <p>&copy; 2024 TrackShip India. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Auth Modal -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="text-xl font-bold text-gray-800">Welcome to TrackShip India</h2>
                <button onclick="closeAuthModal()" class="text-gray-500 hover:text-gray-700">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Tab Navigation -->
            <div class="flex border-b">
                <button class="tab-button active" onclick="switchTab('signin')">Sign In</button>
                <button class="tab-button" onclick="switchTab('signup')">Sign Up</button>
            </div>
            
            <!-- Tab Content -->
            <div class="modal-body">
                <!-- Sign In Tab -->
                <div id="signinTab" class="tab-content">
                    <form id="signinForm" onsubmit="handleSignin(event)">
                        <div class="mb-4">
                            <label class="block text-gray-700 font-medium mb-2">Email</label>
                            <div class="relative">
                                <i class="fas fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                <input type="email" name="email" required class="form-input w-full pl-10 pr-3 py-3 border rounded-lg focus:outline-none focus:border-orange-500" placeholder="Enter your email">
                            </div>
                            <div class="error-message" id="signinEmailError"></div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-gray-700 font-medium mb-2">Password</label>
                            <div class="relative">
                                <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                <input type="password" name="password" required class="form-input w-full pl-10 pr-10 py-3 border rounded-lg focus:outline-none focus:border-orange-500" placeholder="Enter your password">
                                <button type="button" onclick="toggleSigninPassword()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700">
                                    <i class="fas fa-eye" id="signinPasswordEye"></i>
                                </button>
                            </div>
                            <div class="error-message" id="signinPasswordError"></div>
                        </div>
                        
                        <div class="flex items-center justify-between mb-6">
                            <label class="flex items-center">
                                <input type="checkbox" class="mr-2">
                                <span class="text-sm text-gray-600">Remember me</span>
                            </label>
                            <a href="#" class="text-sm text-orange-600 hover:underline">Forgot password?</a>
                        </div>
                        
                        <button type="submit" id="signinSubmitBtn" class="w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition font-semibold">
                            <span id="signinSubmitBtnText">Sign In</span>
                            <span id="signinSubmitBtnSpinner" class="loading-spinner ml-2 hidden"></span>
                        </button>
                    </form>
                </div>
                
                <!-- Sign Up Tab -->
                <div id="signupTab" class="tab-content hidden">
                    <form id="signupForm" onsubmit="handleSignup(event)">
                        <div class="mb-4">
                            <label class="block text-gray-700 font-medium mb-2">Full Name</label>
                            <div class="relative">
                                <i class="fas fa-user absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                <input type="text" name="fullName" required class="form-input w-full pl-10 pr-3 py-3 border rounded-lg focus:outline-none focus:border-orange-500" placeholder="Enter your full name">
                            </div>
                            <div class="error-message" id="signupFullNameError"></div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-gray-700 font-medium mb-2">Email</label>
                            <div class="relative">
                                <i class="fas fa-envelope absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                <input type="email" name="email" required class="form-input w-full pl-10 pr-3 py-3 border rounded-lg focus:outline-none focus:border-orange-500" placeholder="Enter your email">
                            </div>
                            <div class="error-message" id="signupEmailError"></div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-gray-700 font-medium mb-2">Phone</label>
                            <div class="flex">
                                <span class="inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 bg-gray-50 text-gray-500">
                                    +91
                                </span>
                                <input type="tel" name="phone" required pattern="[0-9]{10}" class="form-input flex-1 px-4 py-3 border rounded-r-lg focus:outline-none focus:border-orange-500" placeholder="Enter 10-digit number">
                            </div>
                            <div class="error-message" id="signupPhoneError"></div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-gray-700 font-medium mb-2">Password</label>
                            <div class="relative">
                                <i class="fas fa-lock absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                <input type="password" name="password" required minlength="8" class="form-input w-full pl-10 pr-10 py-3 border rounded-lg focus:outline-none focus:border-orange-500" placeholder="Create a password">
                                <button type="button" onclick="toggleSignupPassword()" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700">
                                    <i class="fas fa-eye" id="signupPasswordEye"></i>
                                </button>
                            </div>
                            <div class="error-message" id="signupPasswordError"></div>
                        </div>
                        
                        <div class="mb-4">
                            <label class="flex items-start">
                                <input type="checkbox" name="terms" required class="mt-1 mr-2">
                                <span class="text-sm text-gray-600">
                                    I agree to the <a href="#" class="text-orange-600 hover:underline">Terms of Service</a> and <a href="#" class="text-orange-600 hover:underline">Privacy Policy</a>
                                </span>
                            </label>
                        </div>
                        
                        <button type="submit" id="signupSubmitBtn" class="w-full bg-orange-600 text-white py-3 rounded-lg hover:bg-orange-700 transition font-semibold">
                            <span id="signupSubmitBtnText">Create Account</span>
                            <span id="signupSubmitBtnSpinner" class="loading-spinner ml-2 hidden"></span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Chatbot -->
    <div id="chatbot" class="fixed bottom-6 right-6 z-50">
        <button 
            id="chatButton" 
            onclick="toggleChat()" 
            class="bg-orange-600 text-white w-16 h-16 rounded-full shadow-lg hover:bg-orange-700 transition-all duration-300 flex items-center justify-center"
        >
            <i class="fas fa-comments text-xl"></i>
        </button>
        
        <div id="chatWindow" class="hidden absolute bottom-20 right-0 w-96 bg-white rounded-lg shadow-2xl overflow-hidden">
            <div class="gradient-primary text-white p-4 flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                        <i class="fas fa-robot text-xl"></i>
                    </div>
                    <div>
                        <h3 class="font-semibold">TrackShip Assistant</h3>
                        <p class="text-xs opacity-80">Always here to help</p>
                    </div>
                </div>
                <button onclick="toggleChat()" class="text-white hover:bg-white hover:bg-opacity-20 rounded p-1">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div id="chatMessages" class="h-96 overflow-y-auto p-4 custom-scrollbar">
                <div class="chat-message mb-4">
                    <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                        <p class="text-sm">नमस्ते! I'm your TrackShip India assistant. How can I help you today? (Hello! I'm your TrackShip India assistant. How can I help you today?)</p>
                    </div>
                </div>
            </div>
            
            <div class="border-t p-4">
                <div class="flex space-x-2">
                    <input 
                        type="text" 
                        id="chatInput" 
                        placeholder="Type your message..."
                        class="flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:border-orange-500"
                        onkeypress="handleChatKeypress(event)"
                    >
                    <button 
                        onclick="sendMessage()" 
                        class="bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition"
                    >
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                <div class="mt-2 flex gap-2">
                    <button onclick="sendQuickMessage('Track shipment')" class="text-xs bg-gray-100 px-3 py-1 rounded-full hover:bg-gray-200">Track shipment</button>
                    <button onclick="sendQuickMessage('Delivery time')" class="text-xs bg-gray-100 px-3 py-1 rounded-full hover:bg-gray-200">Delivery time</button>
                    <button onclick="sendQuickMessage('Help')" class="text-xs bg-gray-100 px-3 py-1 rounded-full hover:bg-gray-200">Help</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notificationContainer" class="fixed top-20 right-6 z-50 space-y-2"></div>

    <script>
        // Initialize map
        let map;
        function initMap() {
            map = L.map('map').setView([20.5937, 78.9629], 5);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);
            
            // Add markers for major Indian cities
            const locations = [
                {lat: 28.7041, lng: 77.1025, title: "Delhi Hub", status: "Active"},
                {lat: 19.0760, lng: 72.8777, title: "Mumbai Center", status: "Active"},
                {lat: 13.0827, lng: 80.2707, title: "Chennai Facility", status: "Active"},
                {lat: 22.5726, lng: 88.3639, title: "Kolkata Depot", status: "Active"},
                {lat: 17.3850, lng: 78.4867, title: "Hyderabad Warehouse", status: "Active"},
                {lat: 12.9716, lng: 77.5946, title: "Bengaluru Hub", status: "Maintenance"}
            ];
            
            locations.forEach(loc => {
                const color = loc.status === "Active" ? "green" : "orange";
                L.marker([loc.lat, loc.lng])
                    .addTo(map)
                    .bindPopup(`<b>${loc.title}</b><br>Status: ${loc.status}`)
                    .setIcon(L.divIcon({
                        className: 'custom-marker',
                        html: `<div style="background-color: ${color}; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);"></div>`,
                        iconSize: [20, 20],
                        iconAnchor: [10, 10]
                    }));
            });
        }
        
        // Call initMap when page loads
        window.onload = function() {
            initMap();
            updateUserAccountSection();
        };
        
        // Sample tracking data for India
        const trackingData = {
            'IND123456789': {
                status: 'In Transit',
                progress: 50,
                steps: [true, true, false, false],
                timeline: [
                    { time: '2024-01-15 10:00 AM', status: 'Order Placed', location: 'Mumbai Warehouse', description: 'Package received and processed' },
                    { time: '2024-01-15 2:30 PM', status: 'In Transit', location: 'Pune Distribution Center', description: 'Package en route to next facility' },
                    { time: '2024-01-16 9:15 AM', status: 'In Transit', location: 'Hyderabad Regional Hub', description: 'Package arrived at regional hub' }
                ]
            },
            'IND987654321': {
                status: 'Out for Delivery',
                progress: 75,
                steps: [true, true, true, false],
                timeline: [
                    { time: '2024-01-15 10:00 AM', status: 'Order Placed', location: 'Delhi Warehouse', description: 'Package received and processed' },
                    { time: '2024-01-15 2:30 PM', status: 'In Transit', location: 'Noida Distribution Center', description: 'Package en route to next facility' },
                    { time: '2024-01-16 9:15 AM', status: 'In Transit', location: 'Gurgaon Regional Hub', description: 'Package arrived at regional hub' },
                    { time: '2024-01-16 11:00 AM', status: 'Out for Delivery', location: 'Local Facility', description: 'Package out for delivery' }
                ]
            },
            'IND456789123': {
                status: 'Delivered',
                progress: 100,
                steps: [true, true, true, true],
                timeline: [
                    { time: '2024-01-15 10:00 AM', status: 'Order Placed', location: 'Chennai Warehouse', description: 'Package received and processed' },
                    { time: '2024-01-15 2:30 PM', status: 'In Transit', location: 'Bangalore Distribution Center', description: 'Package en route to next facility' },
                    { time: '2024-01-16 9:15 AM', status: 'In Transit', location: 'Regional Hub', description: 'Package arrived at regional hub' },
                    { time: '2024-01-16 11:00 AM', status: 'Out for Delivery', location: 'Local Facility', description: 'Package out for delivery' },
                    { time: '2024-01-16 2:30 PM', status: 'Delivered', location: 'Customer Address', description: 'Package successfully delivered' }
                ]
            }
        };
        
        // Enhanced chatbot responses for India
        const chatResponses = {
            'hello': 'नमस्ते! Welcome to TrackShip India. I can help you with tracking shipments, pricing information, service details, and more. How may I assist you?',
            'hi': 'Hi there! I\'m your AI assistant. What can I help you with today?',
            'track': 'To track your shipment, you can:\n1. Use the quick track form on the home page\n2. Visit our dedicated tracking page\n3. Tell me your tracking number and I\'ll check it for you!\n\nWhat\'s your tracking number?',
            'help': 'I can assist you with:\n• Tracking shipments\n• Service information\n• Pricing estimates\n• Delivery time estimates\n• Account support\n• Technical issues\n\nWhat do you need help with?',
            'status': 'Shipment statuses include:\n• Order Placed - Package received\n• In Transit - Package is moving\n• Out for Delivery - Final delivery stage\n• Delivered - Package received\n• Delayed - Unexpected delay\n• Exception - Issue requiring attention\n\nNeed status for a specific package?',
            'delivery': 'Delivery times vary:\n• Hyperlocal: 2-4 hours\n• Same Day: Before 9 PM\n• Next Day: 24 hours\n• Standard: 2-3 business days\n• Economy: 4-7 business days\n\nFactors affecting delivery: distance, traffic, weather, and festival seasons.',
            'lost': 'If your package is lost:\n1. Check tracking status first\n2. Wait 24-48 hours for updates\n3. Contact sender if no update\n4. File claim if insured\n\nNeed help with a specific package?',
            'return': 'Return process:\n1. Contact original sender\n2. Get return authorization\n3. Package item securely\n4. Use provided return label\n5. Track return shipment\n\nNeed return label for a package?',
            'contact': 'Contact options:\n• Email: support@trackship.in\n• Phone: 1800-123-4567 (Toll-free)\n• Live Chat: Available 24/7\n• Help Center: Online resources\n• WhatsApp: +91 98765 43210\n\nHow would you like to reach us?',
            'services': 'Our services include:\n• Hyperlocal Delivery\n• Same Day Delivery\n• Inter-City Freight\n• Rural & Remote Delivery\n• Warehousing Solutions\n• API Integration\n• Festival Special Delivery\n\nWhich service interests you?',
            'pricing': 'Pricing depends on:\n• Package weight & dimensions\n• Distance & destination\n• Service speed\n• Insurance & special handling\n• Volume discounts available\n• GST applicable as per government norms\n\nGet a quote on our services page or provide package details!',
            'api': 'Our API offers:\n• Real-time tracking\n• Automated shipping\n• Rate calculations\n• Label generation\n• Webhook notifications\n• Full documentation\n\nInterested in API integration?',
            'business': 'Business solutions:\n• Volume discounts\n• Dedicated account manager\n• Custom integrations\n• Advanced analytics\n• Priority support\n• API access\n• GST invoicing\n\nLet\'s discuss your business needs!',
            'festival': 'Festival delivery services:\n• Diwali Special: Guaranteed before Diwali\n• Eid Express: Timely delivery for Eid\n• Christmas Rush: Priority handling\n• Seasonal arrangements for all major festivals\n\nPlanning a festival delivery?',
            'rural': 'Rural delivery network:\n• 600K+ villages covered\n• Partnership with local entrepreneurs\n• Special rural delivery rates\n• Cash on delivery available\n• Multi-lingual support\n\nNeed rural delivery service?',
            'payment': 'Payment options:\n• UPI (all major apps)\n• Credit/Debit Cards\n• Net Banking\n• Cash on Delivery\n• Digital Wallets (Paytm, PhonePe, etc.)\n• NEFT/RTGS\n\nWhich payment method do you prefer?',
            'thank you': 'धन्यवाद! (Thank you!) Is there anything else I can help you with today?',
            'bye': 'अलविदा! (Goodbye!) Feel free to return anytime. Have a great day!',
            'default': 'I understand you\'re asking about that. Could you please provide more details or try asking about tracking, delivery, pricing, or our services?'
        };
        
        // User Database Class
        class UserDatabase {
            constructor() {
                this.users = JSON.parse(localStorage.getItem('trackshipUsers')) || [];
            }
            
            // Check if email already exists
            emailExists(email) {
                return this.users.some(user => user.email === email);
            }
            
            // Check if phone already exists
            phoneExists(phone) {
                return this.users.some(user => user.phone === phone);
            }
            
            // Find user by email and password
            authenticate(email, password) {
                return this.users.find(user => user.email === email && user.password === password);
            }
            
            // Add new user
            addUser(userData) {
                const newUser = {
                    id: Date.now(),
                    ...userData,
                    createdAt: new Date().toISOString(),
                    isActive: true
                };
                this.users.push(newUser);
                localStorage.setItem('trackshipUsers', JSON.stringify(this.users));
                return newUser;
            }
            
            // Get user by ID
            getUserById(id) {
                return this.users.find(user => user.id === parseInt(id));
            }
        }
        
        const userDB = new UserDatabase();
        
        // Quick track function
        function quickTrack() {
            const trackingNumber = document.getElementById('quickTrackInput').value.trim();
            
            if (!trackingNumber) {
                showNotification('Please enter a tracking number', 'warning');
                return;
            }
            
            // Store in localStorage for track page
            localStorage.setItem('trackingNumber', trackingNumber);
            
            // Redirect to track page
            window.location.href = 'track.html';
        }
        
        function setTrackingNumber(number) {
            document.getElementById('quickTrackInput').value = number;
        }
        
        // Auth Modal Functions
        function openAuthModal() {
            document.getElementById('authModal').style.display = 'block';
        }
        
        function closeAuthModal() {
            document.getElementById('authModal').style.display = 'none';
        }
        
        function switchTab(tab) {
            // Update tab buttons
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Update tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(tab + 'Tab').classList.remove('hidden');
        }
        
        // Toggle password visibility
        function toggleSigninPassword() {
            const passwordField = document.querySelector('#signinForm input[name="password"]');
            const eyeIcon = document.getElementById('signinPasswordEye');
            
            if (passwordField.type === 'password') {
                passwordField.type = 'text';
                eyeIcon.classList.remove('fa-eye');
                eyeIcon.classList.add('fa-eye-slash');
            } else {
                passwordField.type = 'password';
                eyeIcon.classList.remove('fa-eye-slash');
                eyeIcon.classList.add('fa-eye');
            }
        }
        
        function toggleSignupPassword() {
            const passwordField = document.querySelector('#signupForm input[name="password"]');
            const eyeIcon = document.getElementById('signupPasswordEye');
            
            if (passwordField.type === 'password') {
                passwordField.type = 'text';
                eyeIcon.classList.remove('fa-eye');
                eyeIcon.classList.add('fa-eye-slash');
            } else {
                passwordField.type = 'password';
                eyeIcon.classList.remove('fa-eye-slash');
                eyeIcon.classList.add('fa-eye');
            }
        }
        
        // Form validation functions
        function validateField(fieldName, value, formType) {
            const errorElement = document.getElementById(formType + fieldName.charAt(0).toUpperCase() + fieldName.slice(1) + 'Error');
            const inputElement = document.querySelector(`#${formType}Form input[name="${fieldName}"]`);
            
            let isValid = true;
            let errorMessage = '';
            
            switch(fieldName) {
                case 'fullName':
                    if (!value.trim()) {
                        isValid = false;
                        errorMessage = 'Full name is required';
                    } else if (value.length < 2) {
                        isValid = false;
                        errorMessage = 'Must be at least 2 characters';
                    }
                    break;
                    
                case 'email':
                    if (!value.trim()) {
                        isValid = false;
                        errorMessage = 'Email is required';
                    } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(value)) {
                        isValid = false;
                        errorMessage = 'Please enter a valid email address';
                    } else if (formType === 'signup' && userDB.emailExists(value)) {
                        isValid = false;
                        errorMessage = 'This email is already registered';
                    }
                    break;
                    
                case 'phone':
                    if (!value.trim()) {
                        isValid = false;
                        errorMessage = 'Phone number is required';
                    } else if (!/^[0-9]{10}$/.test(value)) {
                        isValid = false;
                        errorMessage = 'Please enter a valid 10-digit phone number';
                    } else if (formType === 'signup' && userDB.phoneExists(value)) {
                        isValid = false;
                        errorMessage = 'This phone number is already registered';
                    }
                    break;
                    
                case 'password':
                    if (!value) {
                        isValid = false;
                        errorMessage = 'Password is required';
                    } else if (value.length < 8) {
                        isValid = false;
                        errorMessage = 'Password must be at least 8 characters';
                    }
                    break;
            }
            
            // Update UI
            if (isValid) {
                inputElement.classList.remove('error');
                errorElement.classList.remove('show');
            } else {
                inputElement.classList.add('error');
                errorElement.textContent = errorMessage;
                errorElement.classList.add('show');
            }
            
            return isValid;
        }
        
        // Handle sign in
        async function handleSignin(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const email = formData.get('email');
            const password = formData.get('password');
            
            // Validate form
            let isValid = true;
            if (!validateField('email', email, 'signin')) isValid = false;
            if (!validateField('password', password, 'signin')) isValid = false;
            
            if (!isValid) {
                showNotification('Please fix the errors in the form', 'error');
                return;
            }
            
            // Show loading state
            const submitBtn = document.getElementById('signinSubmitBtn');
            const submitBtnText = document.getElementById('signinSubmitBtnText');
            const submitBtnSpinner = document.getElementById('signinSubmitBtnSpinner');
            
            submitBtn.disabled = true;
            submitBtnText.textContent = 'Signing In...';
            submitBtnSpinner.classList.remove('hidden');
            
            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 1500));
                
                // Authenticate user
                const user = userDB.authenticate(email, password);
                
                if (user) {
                    // Store user session
                    localStorage.setItem('currentUser', JSON.stringify({
                        id: user.id,
                        email: user.email,
                        fullName: user.fullName
                    }));
                    
                    showNotification('Sign in successful! Welcome back.', 'success');
                    
                    // Update UI
                    updateUserAccountSection();
                    
                    // Close modal
                    closeAuthModal();
                    
                    // Redirect to dashboard
                    setTimeout(() => {
                        window.location.href = 'dashboard.html';
                    }, 1000);
                } else {
                    showNotification('Invalid email or password. Please try again.', 'error');
                }
                
            } catch (error) {
                showNotification('An error occurred. Please try again.', 'error');
                console.error('Signin error:', error);
            } finally {
                // Reset button state
                submitBtn.disabled = false;
                submitBtnText.textContent = 'Sign In';
                submitBtnSpinner.classList.add('hidden');
            }
        }
        
        // Handle sign up
        async function handleSignup(event) {
            event.preventDefault();
            
            const formData = new FormData(event.target);
            const fullName = formData.get('fullName');
            const email = formData.get('email');
            const phone = formData.get('phone');
            const password = formData.get('password');
            const terms = formData.get('terms');
            
            // Validate form
            let isValid = true;
            if (!validateField('fullName', fullName, 'signup')) isValid = false;
            if (!validateField('email', email, 'signup')) isValid = false;
            if (!validateField('phone', phone, 'signup')) isValid = false;
            if (!validateField('password', password, 'signup')) isValid = false;
            
            if (!terms) {
                showNotification('Please accept the terms and conditions', 'error');
                isValid = false;
            }
            
            if (!isValid) {
                showNotification('Please fix the errors in the form', 'error');
                return;
            }
            
            // Show loading state
            const submitBtn = document.getElementById('signupSubmitBtn');
            const submitBtnText = document.getElementById('signupSubmitBtnText');
            const submitBtnSpinner = document.getElementById('signupSubmitBtnSpinner');
            
            submitBtn.disabled = true;
            submitBtnText.textContent = 'Creating Account...';
            submitBtnSpinner.classList.remove('hidden');
            
            try {
                // Simulate API call
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Create user
                const userData = {
                    fullName,
                    email,
                    phone,
                    password, // In real app, this would be hashed
                    termsAccepted: terms === 'on'
                };
                
                const newUser = userDB.addUser(userData);
                
                showNotification('Account created successfully! Please sign in.', 'success');
                
                // Switch to sign in tab
                switchTab('signin');
                
                // Pre-fill email in sign in form
                document.querySelector('#signinForm input[name="email"]').value = email;
                
            } catch (error) {
                showNotification('An error occurred. Please try again.', 'error');
                console.error('Signup error:', error);
            } finally {
                // Reset button state
                submitBtn.disabled = false;
                submitBtnText.textContent = 'Create Account';
                submitBtnSpinner.classList.add('hidden');
            }
        }
        
        // Update user account section in header
        function updateUserAccountSection() {
            const currentUser = localStorage.getItem('currentUser');
            const userAccountSection = document.getElementById('userAccountSection');
            
            if (currentUser) {
                const user = JSON.parse(currentUser);
                userAccountSection.innerHTML = `
                    <div class="user-dropdown">
                        <button onclick="toggleUserMenu()" class="flex items-center space-x-2 text-gray-600 hover:text-orange-600 transition">
                            <div class="w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center">
                                <i class="fas fa-user text-orange-600"></i>
                            </div>
                            <span class="font-medium">${user.fullName}</span>
                            <i class="fas fa-chevron-down text-xs"></i>
                        </button>
                        <div id="userMenu" class="user-menu">
                            <a href="dashboard.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Dashboard</a>
                            <a href="profile.html" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">My Profile</a>
                            <hr class="my-1">
                            <button onclick="signOut()" class="block w-full text-left px-4 py-2 text-gray-700 hover:bg-gray-100">Sign Out</button>
                        </div>
                    </div>
                `;
            } else {
                userAccountSection.innerHTML = `
                    <button onclick="openAuthModal()" class="bg-orange-600 text-white px-6 py-2 rounded-lg hover:bg-orange-700 transition font-medium">
                        Sign In
                    </button>
                `;
            }
        }
        
        // Toggle user menu
        function toggleUserMenu() {
            const userMenu = document.getElementById('userMenu');
            userMenu.classList.toggle('show');
        }
        
        // Sign out
        function signOut() {
            localStorage.removeItem('currentUser');
            showNotification('You have been signed out successfully.', 'success');
            updateUserAccountSection();
            window.location.href = 'index.html';
        }
        
        // Dark mode toggle
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
            showNotification(isDark ? 'Dark mode enabled' : 'Light mode enabled', 'info');
        }
        
        // Mobile menu toggle
        function toggleMobileMenu() {
            showNotification('Mobile menu would open here', 'info');
        }
        
        // Chatbot functions
        function toggleChat() {
            const chatWindow = document.getElementById('chatWindow');
            const chatButton = document.getElementById('chatButton');
            
            if (chatWindow.classList.contains('hidden')) {
                chatWindow.classList.remove('hidden');
                chatButton.innerHTML = '<i class="fas fa-times text-xl"></i>';
                document.getElementById('chatInput').focus();
            } else {
                chatWindow.classList.add('hidden');
                chatButton.innerHTML = '<i class="fas fa-comments text-xl"></i>';
            }
        }
        
        function sendMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            addChatMessage(message, 'user');
            input.value = '';
            
            setTimeout(() => {
                const response = getBotResponse(message);
                addChatMessage(response, 'bot');
            }, 500);
        }
        
        function sendQuickMessage(message) {
            document.getElementById('chatInput').value = message;
            sendMessage();
        }
        
        function addChatMessage(message, sender) {
            const messagesDiv = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message mb-4';
            
            if (sender === 'user') {
                messageDiv.innerHTML = `
                    <div class="flex justify-end">
                        <div class="bg-orange-600 text-white rounded-lg p-3 max-w-xs">
                            <p class="text-sm">${message}</p>
                        </div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="bg-gray-100 rounded-lg p-3 max-w-xs">
                        <p class="text-sm whitespace-pre-line">${message}</p>
                    </div>
                `;
            }
            
            messagesDiv.appendChild(messageDiv);
            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }
        
        function getBotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Check for tracking numbers
            const trackingMatch = message.match(/IND\d{9}/);
            if (trackingMatch) {
                const trackingNumber = trackingMatch[0];
                if (trackingData[trackingNumber]) {
                    return `Great! I found your shipment ${trackingNumber}.\n\nCurrent Status: ${trackingData[trackingNumber].status}\n\nWould you like me to:\n• Show full tracking details\n• Estimate delivery time\n• Check for any issues`;
                } else {
                    return `I couldn't find tracking number ${trackingNumber} in our system. Please:\n• Double-check the number\n• Contact the sender\n• Or try again in a few minutes\n\nNeed help with something else?`;
                }
            }
            
            // Check for keywords
            for (const [keyword, response] of Object.entries(chatResponses)) {
                if (lowerMessage.includes(keyword)) {
                    return response;
                }
            }
            
            return chatResponses.default;
        }
        
        function handleChatKeypress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }
        
        // Notification system
        function showNotification(message, type = 'info') {
            const container = document.getElementById('notificationContainer');
            const notification = document.createElement('div');
            
            const colors = {
                success: 'bg-green-500',
                error: 'bg-red-500',
                warning: 'bg-yellow-500',
                info: 'bg-orange-500'
            };
            
            const icons = {
                success: 'fa-check-circle',
                error: 'fa-exclamation-circle',
                warning: 'fa-exclamation-triangle',
                info: 'fa-info-circle'
            };
            
            notification.className = `notification ${colors[type]} text-white px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3`;
            notification.innerHTML = `
                <i class="fas ${icons[type]}"></i>
                <span>${message}</span>
            `;
            
            container.appendChild(notification);
            
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
        
        // Initialize dark mode from localStorage
        if (localStorage.getItem('darkMode') === 'true') {
            document.body.classList.add('dark-mode');
        }
        
        // Close user menu when clicking outside
        document.addEventListener('click', function(event) {
            const userDropdown = document.querySelector('.user-dropdown');
            const userMenu = document.getElementById('userMenu');
            
            if (userDropdown && !userDropdown.contains(event.target)) {
                userMenu.classList.remove('show');
            }
        });
        
        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('authModal');
            if (event.target === modal) {
                closeAuthModal();
            }
        }
    </script>
</body>
</html>